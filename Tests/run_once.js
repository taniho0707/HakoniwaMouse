const net = require('net');
const { Buffer } = require('node:buffer');

const ADDR = '127.0.0.1';
const PORT = 3000;

const client = new net.Socket();
client.connect(PORT, ADDR, () => {
  console.log('connected to server');
  client.write(
    Buffer.from([
      0x00, 0x00, 0x00, 0x17, 0x80, 0x32, 0x30, 0x31, 0x36, 0x5f, 0x73, 0x74,
      0x75, 0x64, 0x65, 0x6e, 0x74, 0x5f, 0x68, 0x61, 0x6c, 0x66, 0x2e, 0x6d,
      0x61, 0x7a, 0x65,
    ])
  );
  client.write(
    Buffer.from([
      0x00, 0x00, 0x00, 0x0d, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
      0x00, 0x3f, 0x9d, 0x70, 0xa4,
    ])
  );
  client.write(Buffer.from([0x00, 0x00, 0x00, 0x04, 0x90, 0x01, 0x02, 0x00]));
  client.destroy();
  console.log('connection closed');
});
